# PHP Study Repository
PHP勉強用のリポジトリです。基本的な制御構文から始めてオブジェクト指向プログラミングまである程度書けるようになるまでの勉強資料です。

ここに書かれていることができるようになったからと言ってPHPでバリバリ開発ができるようになるわけではありません。バリバリ開発できるようになるためのスタートアップの勉強資料と捉えてください。

間違いやより良い書き方があれば是非教えてください:)

## 対象

* 始めてプログラムを勉強する方
* ちょっとPHP触ったけどわけわかんなくて止めてた方
* 私の知り合いの何人か

## 留意事項

* この資料を作成する際に使用しているPHPのバージョンは7.1.7です。
* PHP5系や4系では若干挙動が異なる可能性があります。
* 拡張モジュールは入れていません。
* Webサーバはビルドインサーバを利用します。
* PHPのインストール方法（環境構築）については説明しません。

## Section1 - 変数と型

このセクションでは変数と型について説明をしていきます。まずは変数から始めて行きましょう。何も難しいことはありません。肩の力を抜いてPHPを始めましょう :)

### 変数

Branch：[section1-1](https://github.com/yoshida-san/php-study/tree/section1-1 "section1-1")

少し調べてみるとわかるのですが、変数とは嫌になるぐらい目に入る「値を入れる箱」のことです。この説明で「なるほど、わかったよ:)」となる方はこのステップを飛ばしても大丈夫でしょう（PHPのルールが少し書いてあるので最後の方だけは見た方が良いかもしれないね）。少なくとも私は変数がわからない状態で「値を入れる箱」と言われて理解はできませんでした:(

言葉で理解するより実際にイメージしやすい形に落としてみましょう。

それでは、ここで1つ問題です。

x + 1 = 3の場合、xには何が入るでしょうか？

答えは2ですね。別に馬鹿にしているわけではありませんよ:)

続いての問題は、

x = 3とした場合、x + 2の答えは何でしょうか？

答えはわかりますか？答えは5です。x = 3（xが3であること）が前提となるわけですね。その前提の上で2を加算して5になるわけです。

変数というのは、このx = 3の部分のxのことを指します。ポイントは、「xにはこういう値（数字や文字）が入る（または入れる）」という部分です。値を入れるから箱という表現が多く使われるわけですね。実際にコードベースで見てみましょう。[section1-1](https://github.com/yoshida-san/php-study/tree/section1-1 "section1-1")というブランチで確認していきましょう。

```php:index.php
<?php

// aという名前の変数に3という数値を入れる
$a = 3;

// bという名前の変数に"変数だよ"という文字列を入れる
$b = "変数だよ";

// cという名前の変数に5+6をいう計算式の結果を入れる
$c = 5 + 6;

// 値（数値や文字列）を入れないdという名前の変数を用意だけしておく
$d;

// 用意してあるdという名前の変数に5という数値を入れる
$d = 5;

// 用意してあるdという名前の変数を9という数値で上書きする
$d = 9;

?>
```

動かしてみたい気持ちもあると思いますが、今は動かしても何ともならないので動かすのはもう少し後にしましょう:)

先に出てきたx = 3に似ているところがありますね。PHPの場合、変数名の前に$（ドルマーク）を付けるルールがあります。例えばnameという変数を作りたければ$nameとする必要があります。「$は何となく嫌だから#にしたい」という気持ちがわいてきても我慢して$を使いましょう。

変数は「箱」というのは何となくイメージが沸いたでしょうか？ただやっぱりわかりづらいですよね。パソコンの中にファイルを作りそのファイルの中身を書いたり消したり書き換えたりする、という方がイメージしやすいかもしれませんね:)

え？最初と最後の変なコードは何かって？説明が抜けていましたね。最初と最後の2行は「この間に書かれた内容はPHPのプログラムコードだよ」という意味があります。この間以外にプログラムコードを書いてもそれば残念ながらPHPのコードとは認識されません。

```php

// ここはPHPのプログラムコードとして認識されない

<?php
// ここはPHPのプログラムコードとして認識される
?>

// ここはPHPのプログラムコードとして認識されない

<?php
// ここはPHPのプログラムコードとして認識される
?>

```

えっ？えっ？まだわからないことがある？ちょいちょい;(セミコロン)が付いてる？よく見つけたね。それは処理の区切りを示す記号です。「変数を用意する」という処理、「変数を用意して値を入れる」という処理、それぞれの処理の区切りを;(セミコロン)で表しているわけですね。何か処理を書いたら;(セミコロン)を付ける、今はそう覚えておきましょう:)

よく見ると文字列を入れる時は"（ダブルクォーテーション）が付いていて数値を入れる時は何も付いていないですね。これは数値と文字という違いからくるものになります。これについては次の「型」で説明していきます。

### 型

Branch：[section1-2](https://github.com/yoshida-san/php-study/tree/section1-2 "section1-2")

変数は何となくわかりましたか？何となくで構いません。まずは全体のイメージを掴んでいきましょう。続いては「型」について少し覚えていきましょう:)

先程変数で「変数はパソコンの中にあるファイルのようなイメージ」と説明しましたが、ファイルには複数の種類があります。Microsoft Excelだったりテキストファイルだったり様々な種類がありますね。ExcelならExcelの書き方やデータがありますし、テキストファイルにはテキストファイルの書き方やデータがあります。テキストファイルに無理やり表を作っても良いのですが、Excelみたいな便利機能は付与できませんよね:(

プログラムの変数にも同じように種類が存在します。この種類のことをプログラムでは「型」と呼びます。PHPで使われる型はたくさんの種類がありますが、よく使われる型は以下の通りです。この他にも型はありますので、興味があったら調べてみてください:)

| 型名称（英字）  | 型名称（日本語） | 設定可能な値の例（/で区切り） |
|:--------------|:--------------|:-------------|
| [integer](http://php.net/manual/ja/language.types.integer.php "integer") | 整数型 | 0 / 123 |
| [float（double)](http://php.net/manual/ja/language.types.float.php "float（double)") | 浮動少数点型 | 0.001 / 3.14 |
| [string](http://php.net/manual/ja/language.types.string.php "string") | 文字列型 | Hello world / ぴーえいちぴー |
| [boolean](http://php.net/manual/ja/language.types.boolean.php "boolean") | 論理型 | true / false  |

細かいことは置いといて早速コードベースで見てみましょう:)

```php:index.php
<?php

// 整数型
$int = 123;

// 浮動小数点数型
$flt = 3.14;

// 文字列型
$str = "Hello world";

// 論理型
$bln = true;

?>
```

そうです！実は変数の時に整数型と文字列型を使っていたのです！

整数を変数に入れたら整数型、文字列を入れたら文字列型になるわけですね:) 変数自体に型があるのではなく、入れた値によって型が決定される形になります。変数のところで出てこなかった浮動小数点と論理型について少し掘り下げていきましょう。

#### 浮動小数点型

こちらは小数点を持つ数値を変数に代入した場合に決定される型になります。そんな難しくはありませんね:)

#### 論理型

論理型は非常にシンプルです。他の型は相当数のケースの値が入ることが予想されます。例えば文字列であればかなりの組み合わせが存在します。数値も然りですね。ところが論理型に関しては2パターンしかないのです。論理型に入る値は「true（真）」と「false（偽）」になります。「正しい」か「正しくない」かが入ります。これだけだと一体いつ使うのだろう...と思ってしまいますね。使いどころはこの後にたくさん出てくるので安心してください:)

## Section2 - 配列

変数と型についてはもう大丈夫かな？文字列型の変数に「今日はいい天気ですね」って代入してって言われたらできるかな:)

続いて配列というものを覚えていこう。実はこの配列も一つの型なんだ。マップと呼ばれるんだけど、この話はあなたがPHPを好きになったら調べてみて。

さっきは説明しなかったけどね。このセクションでしっかりと配列というのが何なのか覚えていこう。配列には「配列」と「連想配列」という2つの種類があるんだ。大体似たようなものなんだけど種類があれば違いがある、その違いについても覚えていこう。

難しそう？そんなに身構えないでいいよ、時間は無いようで以外にあるものなんだ、ゆっくり覚えていこう:)

### 配列

Branch：[section1-2](https://github.com/yoshida-san/php-study/tree/section2-1 "section2-1")

配列というのを簡単に説明すると「値が連なって1つになったもの」という感じかな。少しわかりづらいかもしれないね。さっき「変数はパソコンの中にあるファイル」と説明したのを覚えているかな。変数が「ファイルそのもの」としたら配列は「フォルダ」と覚えると良いよ:) 1つのフォルダには複数のファイルを入れることができるよね。配列も同じで1つの配列の中に複数の変数を入れることができるという感じかな。実際は配列に入るものは「変数」ではなく「値そのもの」なんだけどね。もうわかっていると思うけれど変数には必ず名前が必要なんだ、$nameみたいにね。

値が連なったものって言うと「123Hellotrue」みたいなものをイメージしたかもしれないけど123Hellotrueだとどこが値の区切りかわからないよね。この問題を解決してくれるのが配列なんだ。例えば君がAからZまでの文字を変数として用意しておきたいと思ったとしよう。これを変数で実装すると次の形になるね。

```php
<?php
$a = "a";
$b = "b";
$c = "c";
$d = "d";
$e = "e";
$f = "f";
$g = "g";
$h = "h";
$i = "i";
$j = "j";
$k = "k";
$l = "l";
$m = "m";
$n = "n";
$o = "o";
$p = "p";
$q = "q";
$r = "r";
$s = "s";
$t = "t";
$u = "u";
$v = "v";
$w = "w";
$x = "x";
$y = "y";
$z = "z";
?>
```

とても長いね:( これを配列で表すとこうなるよ。

```php
<?php
$ary = array("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z");
?>
```

これはこれで横に長いね:( 変数の説明の時に書いたんだけど処理の終わりに;（セミコロン）を付けるって言ったのを覚えているかな。長くて見辛いコードは改行して見やすくすることができるんだ:) 少し見やすくしてみようか。

```php
<?php
$ary = array(
             "a", "b", "c", "d", "e",
             "f", "g", "h", "i", "j",
             "k", "l", "m", "n", "o",
             "p", "q", "r", "s", "t",
             "u", "v", "w", "x", "y", "z"
            );
?>
```

どうだろう、少しは見やすくなったんじゃないかな。

それじゃあ、さっきのフォルダの例で配列を説明していくよ。コードを見て何となくわかると思うんだけど$aryというのが配列型変数の名前だね。数値や文字列はそのまま変数に入れることができたけど今回は値の部分にarrayという単語が付いているね。これは配列そのものを表すために必要なものなんだ、ファイルを格納するフォルダを作るようなイメージだね。フォルダを作る場合、単純に作るだけではなくてフォルダに名前が必要になる、「フォルダの名前が変数名」「フォルダそのものがarray()」と覚えると覚えやすいと思うよ:)

配列のイメージがある程度掴めてきたかな。続いて配列の書き方について説明していくよ。まず下のコードを見て欲しい。

```php
$ary = array();
```

これはさっき書いたコードからa〜zを削除しただけなんだけど、このコードの意味はわかるかな？

そうだね、この段階ではフォルダを作成してそのフォルダに名前を付けただの状態なんだ。フォルダはあるけど中身は空っぽ。それじゃ意味がないからこの空っぽの配列に値を入れてみよう。

```php
$ary = array(1, 2, 3);
```

もう気が付いていると思うんだけど、値の間に,（カンマ）があるね。これは値の区切りに使われるんだ。処理の区切りは;（セミコロン）、値の区切りは,（カンマ）と覚えておこう。さっきから「フォルダの中にあるファイルのイメージ」と言って説明してきたけどこの例えは正しくは無いんだ。理解しやすいと思うけど正しくはないんだよね。

わかりやすく正しい例に近いのはモーテルかな。モーテルには部屋番号があって、その部屋に何かが置いてある。何が置いてあるかは部屋のランクやモーテルによって違う。配列もそんな感じなんだ。配列自体にランクがあるわけでは無いんだけどね。配列ではこの「部屋番号」というのがとても重要なファクターになるから覚えておこう。

配列の作り方はわかったけど配列の中にセットした値を参照する時はどうしたら良いんだろう？そう思うよね。数値型や文字列型の場合は値が1つだから「変数＝そのままの値」の式が成り立つんだ。ただ配列の場合は少し事情が違う。配列は値を複数持てるというのはもうわかってるよね。では、その値を使いたい場合、どういう風に参照するのかを覚えていこう。

ここではechoという処理を使っていくよ。echoは数値や文字列を出力する処理のこと、はじめて出力するプログラムを書いていこう:)

```php
<?php
// echoは数値や文字を出力する処理だよ
$str = "今日はいい天気だね";  // 変数に文字列を代入
echo $str;                 // 変数の値を出力

// 配列を用意
$ary = array(1, 2, 3);

// 配列の0番目の要素を出力
echo $ary[0];
?>
```

文字列の値出力と配列の値出力で少し違うところがあるんだ。配列の方で[0]が付いているね。この[0]がさっき言った重要なファクター「部屋番号」なんだ。配列は値を複数持てることはもうわかってると思うんだけど、その値を取り出す方法は他の変数とはちょっと違うんだよ。配列の中身は複数あって、そのどれを欲しいか指定する必要があるんだ。これがさっき言っていた「部屋番号」そのものなんだ。配列的には部屋番号ではなくて「要素番号」って呼ぶんだ、これは覚えておいた方がいい。要素番号は0から始まり1ずつ増えていく整数というのも覚えておいた方がいいね、PHPは0だけど他のプログラミング言語では1からの場合もあるんだ。

```php
<?php
// 配列を用意
// 要素番号0：おはよう
// 要素番号1：こんにちわ
// 要素番号2：こんばんわ
// 要素番号3：おやすみ
$ary = array("おはよう", "こんにちわ", "こんばんわ", "おやすみ");

// 配列からおはようを取り出して出力する
echo $ary[0];

// 配列からこんにちわを取り出して出力する
echo $ary[1];

// 配列からこんばんわを取り出して出力する
echo $ary[2];

// 配列からおやすみを取り出して出力する
echo $ary[3];
?>
```

最後にもう1つ覚えることがあるんだ。配列は値を複数持てるのと同時に複数の型を内包することができるんだ。言葉だとよくわからないかもしれないからコードを書いてみるね。

```php
<?php
// 配列に数値、文字列、論理、配列を入れる
$ary = array(123, "こんにちわ", true, array(1, "Hello", false));
?>
```

そうなんだ、配列の中には型を限定せずに配列すら入れることができるんだ。この辺りは追々覚えていこう。まずは「配列は複数の値を持つことができる」「要素数は0から始まる整数」これを覚えておこう。

### 連想配列

## Section3 - 条件文(if, switch)と比較演算子

## Section4 - 繰り返し文その1(for, foreach)

## Section5 - スコープ

## Section6 - オブジェクト

## Section6.5 - オブジェクト指向とは

## Section7 - ポリモーフィズム

## Section8 - カプセル化

## Section9 - 継承

## Section10 - インターフェース

## 最後に
